Brute-forcing is the process of discovering weak login credentials and is typically one of the first actions performed during security assessments of public-facing applications. As there are different tools built to aid in brute-forcing for different protocols, it is often needed to have a framework that eases the procedure of launching customized brute-force attacks.

`BruteDum` is a Python tool that combines service enumeration and brute-forcing tools. It lists the best tool to use for services found, cutting down the time it would take the user to find the right attack technique. It organizes powerful tools for breaking into user accounts on services like SSH, VNC, etc.

To get started, go to the `BruteDum` directory, which has been preinstalled on the system:
`cd Exploiting-Public-Facing-App`

`BruteDum` can not find password lists saved outside the `BruteDum` folder, so the solution is to add the password list directly to its directory. A password list is already located in the same directory.
To run BruteDum, use the following command:
`python3 brutedum.py
# Target Address

The tool first prompts for the victim's IP address. In this example, use our own machine IP as a target by typing localhost

Once you've done so, press Enter, and the program will present the option to run a Nmap scan. It's a convenient feature that can help you discover other services open on the same machine. Type Y and press Enter to run the Nmap scan. `y`

The scan results show that 6 ports are open in the machine labeled 1 through 6. The next step is to select a service to crack. Select option 6 and press Enter for VNC cracking. `6`
### Tool Selection for BruteDum

After scanning VNC, BruteDum lists a few tools for brute forcing. In this case, Hydra is recommended. Hydra is a password-cracking tool that supports several protocols to attack. To use it, type 2 on the terminal and press Enter. `2`
### Set Username and Password List

When asked for the wordlist, use the wordlist located in Downloads/BruteDumps. Hydra will go through the wordlist and attempt to authenticate to VNC.
`Top207-probable-v2.txt

### Launch the Attack

The default VNC port is 5900, but some machines may use a non-standard port. Since our target is running VNC on port 5901, press "n" to proceed. `n

Next, enter 5901 to specify the port: `5901

Once the port is set, `BruteDum` will automatically launch Hydra, a password-cracking tool, to perform a brute-force attack on the VNC credentials.

If the attack succeeds, a valid password will be revealed. Otherwise, it will indicate that no matching credentials were found in this attempt. While this method may not always work, it can be effective in scenarios where the correct password is included in the tested list.

When prompted to continue, press "n" to exit the tool.

If valid credentials are obtained, an attacker can use `Remmina`, a remote desktop tool for screen sharing and file transfers, to connect to the VNC server and gain initial access to the system.

What is the password that was founded by brute forcing?
**123456**
# PHPMyAdmin 4.8.0 Vulnerability

PHPMyAdmin is a set of open-source, web-based MySQL database management tools.

4.8.0 ~ 4.8.1 versions of the tool are vulnerable to file inclusion in `index.php` caused by a validation bypass in the vulnerable path checking function `Core::checkPageValidity`. This vulnerability allows remote adversaries to execute arbitrary PHP code on the machine when authenticated.

Open a browser and visit phpmyadmin.com, which is running a vulnerable PHPMyAdmin version.

http://192.168.1.100/phpmyadmin

After visting the website, a login page appears. PHPMyAdmin is known for weak configurations from its users, so default credentials are often used (admin, admin). Use the default credentials to log in and access the tool's dashboard.

> Disregard any error messages that appear on the webpage.
# PHPMyAdmin File Inclusion

Local File Inclusion (LFI) is used to trick the web application into exposing or running files on the webserver. This can lead to remote code execution, Cross-site Scripting (XSS), and information disclosure.

The running version of PHPMyAdmin on this machine is vulnerable to Local File Inclusion. To test this, after the dashboard is accessed, try entering the following link in the URL path:

http://192.168.1.100/phpmyadmin/index.php?target=db_sql.php%253f/../../../../../../../../etc/passwd

This payload exploits the target argument by appending a custom file path. In Linux-based operating systems, the ../ connotation lists the content of the parent directory. Adding a few of these special characters allows the attacker to list the contents of the root directory and then traverse to any file of choosing. In this case, the content of the /etc/passwd file is shown. This file contains a list of all machine users.
# Executing Getshell Commands

Different `getshell` methods exist that can exploit this vulnerability, such as changing the path of the written log, writing a one-sentence Trojan horse, etc.

In this example, MySQL logging capabilities will be exploited to create malicious PHP files. More specifically, the files will be created by manipulating two MySQL global variables:

1. general log - refers to the log saving status. There are two values ​​(ON/OFF), ON meaning open and OFF meaning closed.
2. general log file - refers to the save path of the log.

MySQL 5.0 and above will create log files, modify the log's global variables and, have read and write permissions to the generated log.

First, check the log status running the below statement in the "SQL" tab and pressing "Go":

SHOW VARIABLES LIKE 'general%' ;

If general_log=ON , the executed SQL statement will appear in the /1e164993aaf5.log file as stated.

However, if the path of general_log_file is changed to for example /1.php , the executed SQL statement will be saved to that file.

To change the general_log variable and set it to ON, execute the following:

SET GLOBAL general_log= 'on'

Next, using the following statement, the log file can be changed to 1.php.

SET GLOBAL general_log_file= '1.php'

Keep in mind that database errors might appear, however the code is being executed. To confirm that the commands were successful, check the log status running the below statement:

SHOW VARIABLES LIKE 'general%' ;

![n7dvbcqa.jpg](https://labondemand.blob.core.windows.net/content/lab183047/instructions285698/n7dvbcqa.jpg)

If general_log is ON, and the log file is now 1.php, the commands ran successfully. Keep in mind that this statement will work if the directory path is set correctly corresponding to the default server path where the log files are saved,otherwise, the file can not be generated and will prompt an error.

Now, run the following statement, which will be logged in the new specified file, leading to generating the 1.php file:

TypeCopy

`select '<?php phpinfo();?>'`

After running the statement, from the server-side, 1.php is generated successfully on the PHPMyAdmin server at /var/lib/mysql/1.php.